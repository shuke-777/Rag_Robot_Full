[
  {
    "question": "如何使用 Python unittest 框架测试除零错误？",
    "answer": "要使用 Python unittest 框架测试除零错误，可以使用 `assertRaises` 方法来验证函数是否会抛出预期的异常。下面是一个完整的示例：\n\n```python\nimport unittest\n\ndef divide(a, b):\n    \"\"\"除法函数\"\"\"\n    if b == 0:\n        raise ValueError(\"除数不能为零\")\n    return a / b\n\nclass TestDivideFunction(unittest.TestCase):\n    def test_divide_by_zero(self):\n        \"\"\"测试除零错误\"\"\"\n        # 使用 assertRaises 检查是否抛出 ValueError\n        with self.assertRaises(ValueError):\n            divide(10, 0)\n\nif __name__ == '__main__':\n    unittest.main()\n```\n\n在这个例子中：\n\n1. `assertRaises(ValueError)` 是一个上下文管理器，它会检查在 `with` 代码块中是否抛出了指定类型的异常\n2. 如果 `divide(10, 0)` 调用抛出了 `ValueError` 异常，测试通过\n3. 如果没有抛出异常或者抛出了其他类型的异常，测试失败\n\n这是测试除零错误的正确方法，可以确保函数在遇到除数为零的情况时能够正确地抛出预期的异常。",
    "contexts": [
      "def test_add(self):\n        \"\"\"测试加法\"\"\"\n        self.assertEqual(add(2, 3), 5)\n        self.assertEqual(add(-1, 1), 0)\n        self.assertEqual(add(0, 0), 0)\n\n    def test_divide(self):\n        \"\"\"测试除法\"\"\"\n        self.assertEqual(divide(10, 2), 5)\n        self.assertAlmostEqual(divide(1, 3), 0.333, places=3)\n\n    def test_divide_by_zero(self):\n        \"\"\"测试除零错误\"\"\"\n        with self.assertRaises(ValueError):\n            divide(10, 0)\n\nif __name__ == '__main__':\n    unittest.main()\n```",
      "### 2.1 Python unittest 示例\n\n```python\nimport unittest\n\ndef add(a, b):\n    \"\"\"加法函数\"\"\"\n    return a + b\n\ndef divide(a, b):\n    \"\"\"除法函数\"\"\"\n    if b == 0:\n        raise ValueError(\"除数不能为零\")\n    return a / b\n\nclass TestMathFunctions(unittest.TestCase):\n    \"\"\"数学函数测试类\"\"\"\n\n    def setUp(self):\n        \"\"\"每个测试前执行\"\"\"\n        print(\"开始测试\")\n\n    def tearDown(self):\n        \"\"\"每个测试后执行\"\"\"\n        print(\"测试结束\")",
      "### 2.2 pytest 示例\n\n```python\nimport pytest\n\ndef add(a, b):\n    return a + b\n\ndef divide(a, b):\n    if b == 0:\n        raise ValueError(\"除数不能为零\")\n    return a / b\n\n# pytest 测试函数\ndef test_add():\n    assert add(2, 3) == 5\n    assert add(-1, 1) == 0\n    assert add(0, 0) == 0\n\ndef test_divide():\n    assert divide(10, 2) == 5\n    assert abs(divide(1, 3) - 0.333) < 0.001\n\ndef test_divide_by_zero():\n    with pytest.raises(ValueError):\n        divide(10, 0)"
    ],
    "ground_truth": "使用 unittest.TestCase 的 assertRaises 方法，配合 with 语句来测试除零错误。示例：with self.assertRaises(ValueError): divide(10, 0)"
  }
]